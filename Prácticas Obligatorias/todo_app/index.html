<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/main.css">
    <title>Document</title>
</head>

<body>
    <section class="container">
        <div class="box-container">
            <div class="box">
                <p class="title">TODO's APP</p>
                <p class="subtitle">Add your Todo's here:</p>
                <input type="text" id="title">
                <select name="" id="priority">
                    <option value="1">Daily</option>
                    <option value="2">Mensual</option>
                    <option value="3">Urgent</option>
                </select>
                <button id="button">Add todo</button>
            </div>
            <div class="box">
                <p class="subtitle">Filter by priority:</p>
                <select id="priority-filter">
                    <option selected>Select priority...</option>
                    <option value="1">Daily</option>
                    <option value="2">Mensual</option>
                    <option value="3">Urgent</option>
                </select>
            </div>
            <div class="box">
                <div id="list">
                </div>
            </div>
        </div>
    </section>
    <script>

        var todosList = new Array()
        var button = document.getElementById('button')
        button.addEventListener('click', saveValues)

        // Save todo's values and fire addTodo function
        function saveValues(event) {
            event.preventDefault()
            const title = document.getElementById('title').value
            const priority = document.getElementById('priority').value
            addTodo(title, priority)
        }

        // Add todo to todosList array
        function addTodo(title, priority, id) {
            const todo = {
                title,
                priority,
                id: Date.now()
            }
            todosList.push(todo)
            showTodo(todo)
        }

        // Dynamically add todo to DOM
        function showTodo(todo) {
            const list = document.getElementById('list')
            const div = document.createElement('div')

            const h1 = document.createElement('h1')
            const h6 = document.createElement('h6')
            const text = document.createTextNode(`${todo.title}`)
            const priority = document.createTextNode(`Priority: ${todo.priority}`)

            const deleteButton = document.createElement('button')
            const textButton = document.createTextNode('Delete')

            h1.appendChild(text)
            h6.appendChild(priority)
            deleteButton.appendChild(textButton)

            div.appendChild(h1)
            div.appendChild(h6)
            div.appendChild(deleteButton)

            div.classList.add('todo-box')
            deleteButton.setAttribute('id', 'delete-button')

            list.appendChild(div)
            console.log(todosList)
        }

        // Add event listener to Delete Button
        document.addEventListener('click', function (e) {
            if (e.target && e.target.id == 'delete-button') {
                console.log('is clicked')
            }
        })








    </script>
</body>

</html>